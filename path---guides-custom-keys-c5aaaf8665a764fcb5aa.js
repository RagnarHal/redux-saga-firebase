webpackJsonp([0xd1e80a0ae9a2],{1133:function(e,a){e.exports={data:{site:{siteMetadata:{docsDirectory:"docs",github:{url:"https://github.com/n6g7/redux-saga-firebase"}}},file:{base:"custom-keys.md",sourceInstanceName:"guides",markdown:{html:'<h2>Using the realtime database</h2>\n<h3>Firebase push keys</h3>\n<p>Firebase\'s <a href="https://firebase.google.com/docs/reference/js/firebase.database.Reference#push">push</a> method automatically generates a key to save the new child.\nFor example calling <code class="language-text">database.ref(&#39;users&#39;).push({ name: &#39;Elon&#39; })</code> will save create the following structure in the realtime database:</p>\n<div class="gatsby-highlight" data-language="json">\n      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>\n  <span class="token property">"users"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">"-L13_r6yHjZJV2V8yTQm"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Elon"</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>And <code class="language-text">-L13_r6yHjZJV2V8yTQm</code> (the automatically generated key) will be returned.</p>\n<p>You can learn more about those keys (and their cool properties) by reading this firebase blog article: <a href="https://firebase.googleblog.com/2015/02/the-2120-ways-to-ensure-unique_68.html">The 2^120 Ways to Ensure Unique Identifiers</a> and the <a href="https://gist.github.com/mikelehen/3596a30bd69384624c11">associated gist</a>.\nThere\'s also this cool npm package if you want to generate those keys yourself: <a href="https://www.npmjs.com/package/firebase-key">firebase-key</a>.</p>\n<h3>Choosing your own keys</h3>\n<p>Since calling <a href="https://firebase.google.com/docs/reference/js/firebase.database.Reference#push"><code class="language-text">push</code></a> (or RSF\'s <a href="/redux-saga-firebase/redux-saga-firebase/reference/database#create"><code class="language-text">database.create</code></a>) automatically generates the key, you won\'t have an option to choose it yourself.</p>\n<p>The alternative is to use the <a href="https://firebase.google.com/docs/reference/js/firebase.database.Reference#set"><code class="language-text">set</code></a> method (or RSF\'s <a href="/redux-saga-firebase/redux-saga-firebase/reference/database#update"><code class="language-text">database.update</code></a>) with the key already built in the reference:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">function</span> createUserSaga <span class="token operator">*</span> <span class="token punctuation">(</span>userData<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">yield</span> <span class="token function">call</span><span class="token punctuation">(</span>\n    rsf<span class="token punctuation">.</span>database<span class="token punctuation">.</span>update<span class="token punctuation">,</span>\n    <span class="token template-string"><span class="token string">`users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userData<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>\n    userData\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>See <a href="https://github.com/n6g7/redux-saga-firebase/issues/82">issue#82</a> for more info.</p>\n<h2>Using firestore</h2>\n<p>There is a very similar behaviour when using firestore:</p>\n<ul>\n<li><a href="/redux-saga-firebase/redux-saga-firebase/reference/firestore#addDocument"><code class="language-text">firestore.addDocument</code></a> (<a href="https://firebase.google.com/docs/reference/js/firebase.firestore.CollectionReference#add"><code class="language-text">CollectionReference.add</code></a>) will automatically generate an ID for the new document</li>\n<li>use <a href="https://n6g7.github.io/redux-saga-firebase/reference/firestore#setDocument"><code class="language-text">firestore.setDocument</code></a> (<a href="https://firebase.google.com/docs/reference/js/firebase.firestore.DocumentReference#set"><code class="language-text">DocumentReference.set</code></a>) instead to be able to choose the ID of the new document:</li>\n</ul>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">function</span> createUserSaga <span class="token operator">*</span> <span class="token punctuation">(</span>userData<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">yield</span> <span class="token function">call</span><span class="token punctuation">(</span>\n    rsf<span class="token punctuation">.</span>firestore<span class="token punctuation">.</span>setDocument<span class="token punctuation">,</span>\n    <span class="token template-string"><span class="token string">`users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userData<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>\n    userData\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>',frontmatter:{title:"Custom keys"}}}},pathContext:{fileName:"custom-keys"}}}});
//# sourceMappingURL=path---guides-custom-keys-c5aaaf8665a764fcb5aa.js.map